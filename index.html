<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>WebRTC IP Leak Tester</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
<header class="container">
  <h1>WebRTC IP Leak Tester</h1>
  <p class="lead">ブラウザが生成する ICE 候補（IP・ポート）を一覧表示し、VPN/プロキシ環境での IP リークを確認できます。</p>
</header>

<main class="container">
  <!-- 設定 ------------------------------------------------------- -->
  <section class="controls">
    <h2>設定</h2>
    <label>
      STUN サーバ&nbsp;
      <input id="stunUrl" type="text" value="stun:stun.l.google.com:19302" size="30">
    </label>

    <div class="filter-group" role="group" aria-label="候補フィルタ">
      <label><input type="checkbox" data-filter="host"  checked>host</label>
      <label><input type="checkbox" data-filter="mdns"  checked>mDNS</label>
      <label><input type="checkbox" data-filter="srflx" checked>srflx</label>
      <label><input type="checkbox" data-filter="relay" checked>relay</label>
    </div>

    <div class="btn-group">
      <button id="startBtn" class="primary">テスト開始</button>
      <button id="stopBtn"  class="secondary" disabled>停止</button>
      <button id="copyBtn"  class="ghost"     disabled>JSON コピー</button>
    </div>

    <div id="progress" class="progress" hidden><span></span></div>
    <p id="status" class="status">待機中</p>
  </section>

  <!-- 結果 ------------------------------------------------------- -->
  <section class="results">
    <h2>結果</h2>

    <div class="table-wrap" tabindex="0">
      <table id="resultTable">
        <thead>
          <tr><th>種別</th><th>IP / mDNS</th><th>ポート</th><th>Protocol</th><th>Priority</th><th>関連アドレス</th></tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <ul id="cardList" class="card-list" aria-label="モバイルビュー"></ul>

    <p id="doneMsg" class="done" hidden>ICE 収集が完了しました。</p>
  </section>
</main>

<footer class="container">
  <small>仕様参考: RFC 8445 / WebRTC 1.0,  mDNS によるローカル IP 匿名化 </small>
</footer>

<script src="script.js" defer></script>
</body>
</html>
